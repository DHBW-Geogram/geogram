(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{102:function(e,t,n){var r={"./ion-action-sheet.entry.js":[151,7],"./ion-alert.entry.js":[152,8],"./ion-app_8.entry.js":[153,9],"./ion-avatar_3.entry.js":[154,19],"./ion-back-button.entry.js":[155,20],"./ion-backdrop.entry.js":[156,45],"./ion-button_2.entry.js":[157,21],"./ion-card_5.entry.js":[158,22],"./ion-checkbox.entry.js":[159,23],"./ion-chip.entry.js":[160,24],"./ion-col_3.entry.js":[161,46],"./ion-datetime_3.entry.js":[162,12],"./ion-fab_3.entry.js":[163,25],"./ion-img.entry.js":[164,47],"./ion-infinite-scroll_2.entry.js":[165,48],"./ion-input.entry.js":[166,26],"./ion-item-option_3.entry.js":[167,27],"./ion-item_8.entry.js":[168,28],"./ion-loading.entry.js":[169,29],"./ion-menu_3.entry.js":[170,30],"./ion-modal.entry.js":[171,10],"./ion-nav_2.entry.js":[172,16],"./ion-popover.entry.js":[173,11],"./ion-progress-bar.entry.js":[174,31],"./ion-radio_2.entry.js":[175,32],"./ion-range.entry.js":[176,33],"./ion-refresher_2.entry.js":[177,13],"./ion-reorder_2.entry.js":[178,18],"./ion-ripple-effect.entry.js":[179,49],"./ion-route_4.entry.js":[180,34],"./ion-searchbar.entry.js":[181,35],"./ion-segment_2.entry.js":[182,36],"./ion-select_3.entry.js":[183,37],"./ion-slide_2.entry.js":[184,50],"./ion-spinner.entry.js":[185,15],"./ion-split-pane.entry.js":[186,51],"./ion-tab-bar_2.entry.js":[187,38],"./ion-tab_2.entry.js":[188,17],"./ion-text.entry.js":[189,39],"./ion-textarea.entry.js":[190,40],"./ion-toast.entry.js":[191,41],"./ion-toggle.entry.js":[192,14],"./ion-virtual-scroll.entry.js":[193,52]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=102,e.exports=c},104:function(e,t,n){var r={"./ion-icon.entry.js":[194,67]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=104,e.exports=c},106:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){var r={"./pwa-action-sheet.entry.js":[198,59],"./pwa-camera-modal-instance.entry.js":[199,60],"./pwa-camera-modal.entry.js":[200,61],"./pwa-camera.entry.js":[201,62],"./pwa-toast.entry.js":[202,63]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=148,e.exports=c},149:function(e,t,n){"use strict";n.r(t),n.d(t,"UserContext",(function(){return De})),n.d(t,"UserProvider",(function(){return ze}));var r=n(7),c=n(41),a=n.n(c),s=n(25),i=n(26),o=n(1),u=n(5),l=n.n(u),d=n(8),j=n(4),b=n(43),h=n(17),f=n(206),O=n(210),p=n(207),x=n(208),m=(n(105),n(106),n(0)),v=function(e){var t=e.location;return Object(m.jsxs)(f.a,{center:[t.coords.latitude,t.coords.longitude],zoom:13,scrollWheelZoom:!1,style:{height:"20vh",width:"100vh"},children:[Object(m.jsx)(O.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(m.jsx)(p.a,{position:[t.coords.latitude,t.coords.longitude],children:Object(m.jsx)(x.a,{children:"Current Position."})})]})},g=n(56),y=n.n(g),w=n(70),k=w.a.initializeApp({apiKey:"AIzaSyCuOUn1kd_QKs91UYx2Pv015QYAwNfpkWg",authDomain:"geogram-4906f.firebaseapp.com",projectId:"geogram-4906f",storageBucket:"geogram-4906f.appspot.com",messagingSenderId:"293875577588",appId:"1:293875577588:web:d286bacade6e4850bfa4a1"}),S=k.firestore(),C=k.auth();w.a;C.onAuthStateChanged((function(e){if(e){var t=e.uid;localStorage.setItem("uid",t)}else localStorage.removeItem("uid")}));var E=n(209),P=h.f.Geolocation,L=h.f.Filesystem,F=function(e){var t=Object(o.useContext)(De),n=Object(o.useState)(),c=Object(r.a)(n,2),a=c[0],u=c[1],f=Object(o.useState)(""),O=Object(r.a)(f,2),p=O[0],x=O[1],g=Object(o.useState)(""),w=Object(r.a)(g,2),k=w[0],C=w[1],F=Object(o.useState)(),I=Object(r.a)(F,2),N=I[0],U=I[1],D=Object(o.useState)(""),z=Object(r.a)(D,2),A=z[0],T=z[1],_=Object(o.useState)(""),J=Object(r.a)(_,2),M=J[0],R=J[1],q=Object(o.useState)(""),B=Object(r.a)(q,2),Q=B[0],W=B[1];Object(o.useEffect)((function(){void 0!==e.location.state&&u(e.location.state.image),P.getCurrentPosition().then((function(e){U({coords:{accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,latitude:e.coords.latitude,longitude:e.coords.longitude,speed:e.coords.speed},timestamp:e.timestamp}),y.a.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(null===e||void 0===e?void 0:e.coords.latitude,"+").concat(null===e||void 0===e?void 0:e.coords.longitude,"&key=bb44e70b618844faba7cb23b580419e0")).then((function(e){T(e.data.results[0].formatted),U((function(t){return Object(s.a)(Object(s.a)({},t),{},{position:e.data.results[0].formatted})}))}))})),e.setLoading(!1)}),[e.location.state]);var G=function(){var n=Object(d.a)(l.a.mark((function n(){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setLoading(!0),void 0===N&&U({coords:{accuracy:0,altitude:0,altitudeAccuracy:0,heading:0,latitude:0,longitude:0,speed:0},timestamp:Date.now()}),""===p||""===k||void 0===a){n.next=24;break}if(void 0===a.webviewPath){n.next=22;break}if(!Object(j.bb)("android")&&!Object(j.bb)("ios")){n.next=15;break}return n.t0=s.a,n.t1=Object(s.a)({},r),n.t2={},n.next=10,Object(b.a)(a.webviewPath);case 10:n.t3=n.sent.toString().split(",")[1],n.t4={data:n.t3},r=(0,n.t0)(n.t1,n.t2,n.t4),n.next=18;break;case 15:return n.next=17,L.readFile({path:a.filepath,directory:h.d.Data,encoding:h.e.UTF8});case 17:r=n.sent;case 18:return n.next=20,y.a.post("".concat("https://api.dhbw-geogram.de","/upload1"),{data:r.data});case 20:void 0!==(c=n.sent).data.file?S.collection("users").doc(null===t||void 0===t?void 0:t.uid).get().then((function(n){var r,a=Object(E.a)();S.collection("images").doc(a).set({id:a,timestamp:Date.now(),user:(null===(r=n.data())||void 0===r?void 0:r.username)||(null===t||void 0===t?void 0:t.email),location:N,url:"".concat("https://api.dhbw-geogram.de","/").concat(c.data.file),title:p,description:k}).then((function(t){R("Successfully added item to firebase"),x(""),C(""),u(void 0),U(void 0),setTimeout((function(){W("explore"),e.setLoading(!1)}),1e3)})).catch((function(e){return R("Error while adding data to firebase")}))})):R("Error while adding data to image server: https://api.dhbw-geogram.de");case 22:n.next=25;break;case 24:R(""===p?"Please fill out the title field!":""===k?"Please fill out the description field!":"Error occured!");case 25:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(m.jsxs)(j.B,{children:[Object(m.jsx)(j.r,{children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{children:"Upload"})})}),Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsx)(j.r,{collapse:"condense",children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{size:"large",children:"Upload"})})}),a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.t,{src:a.webviewPath}),Object(m.jsxs)(j.q,{children:[Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",children:Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Title"}),Object(m.jsx)(j.u,{type:"text",value:p,onIonChange:function(e){x(e.detail.value)}})]})})}),Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",children:Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Description"}),Object(m.jsx)(j.P,{value:k,onIonChange:function(e){C(e.detail.value)}})]})})}),Object(m.jsx)(j.J,{children:Object(m.jsxs)(j.m,{size:"12",children:["Current Position: Latitude:"," ",null===N||void 0===N?void 0:N.coords.latitude.toString(),", Longitude:"," ",null===N||void 0===N?void 0:N.coords.longitude.toString()]})}),Object(m.jsx)(j.J,{children:Object(m.jsxs)(j.m,{size:"12",children:["City: ",A]})}),Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",children:N&&Object(m.jsx)(v,{location:N})})}),Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{children:Object(m.jsx)(j.e,{expand:"block",shape:"round",fill:"outline",color:"primary",onClick:G,children:"Submit"})}),Object(m.jsx)(j.m,{children:Object(m.jsx)(j.e,{expand:"block",shape:"round",fill:"outline",color:"danger",onClick:function(){x(""),C(""),u(void 0),U(void 0),W("explore")},children:"Cancel"})})]})]})]}),Object(m.jsx)(j.R,{isOpen:""!==M,onDidDismiss:function(){return R("")},message:M,duration:1500}),""!==Q&&Object(m.jsx)(i.a,{to:"/".concat(Q)})]})]})},I=n(68),N=n(11),U=n(93),D=n(94),z=(h.f.Filesystem,"photos");function A(){var e=Object(o.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(U.a)().getPhoto,s=Object(b.b)(),i=(s.deleteFile,s.readFile),u=s.writeFile,f=Object(D.a)(),O=f.get,p=f.set;Object(o.useEffect)((function(){}),[O,i]);var x=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({resultType:h.a.Uri,source:h.b.Camera,quality:25});case 2:return t=e.sent,n=(new Date).getTime()+".jpeg",e.next=6,g(t,n);case 6:return r=e.sent,c(r),p(z,JSON.stringify(r)),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onerror=n,r.onload=function(){return e(r.result)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({resultType:h.a.Uri,source:h.b.Photos,quality:25});case 2:return t=e.sent,n=(new Date).getTime()+".jpeg",e.next=6,g(t,n);case 6:return r=e.sent,c(r),p(z,JSON.stringify(r)),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(j.bb)("hybrid")){e.next=7;break}return e.next=3,i({path:t.path});case 3:c=e.sent,r=c.data,e.next=10;break;case 7:return e.next=9,Object(b.a)(t.webPath);case 9:r=e.sent;case 10:return e.next=12,u({path:n,data:r,directory:h.d.Data});case 12:if(a=e.sent,!Object(j.bb)("hybrid")){e.next=17;break}return e.abrupt("return",{filepath:a.uri,webviewPath:h.c.convertFileSrc(a.uri)});case 17:return e.abrupt("return",{filepath:n,webviewPath:t.webPath,data:r});case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{photo:n,takePhoto:x,takePhotoFromGalerie:v,convertBlobToBase64:m}}var T=function(e){var t=e.active,n=e.setShowActionSheet,c=e.setLoading,a=Object(o.useState)(""),s=Object(r.a)(a,2),u=s[0],l=s[1],d=Object(o.useState)(),b=Object(r.a)(d,2),h=b[0],f=b[1],O=A(),p=O.takePhoto,x=O.takePhotoFromGalerie;return Object(m.jsxs)(m.Fragment,{children:["profile-pic"===u&&Object(m.jsx)(i.a,{to:{pathname:"/profile-pic",state:{image:h}}}),Object(m.jsx)(j.a,{isOpen:t,onDidDismiss:function(){return n(!1)},buttons:[{text:"Camera",icon:N.c,handler:function(){p().then((function(e){c(!0),f(e),l("profile-pic")})).catch((function(e){console.log(e)}))}},{text:"Galerie",icon:N.s,handler:function(){x().then((function(e){c(!0),f(e),l("profile-pic")}))}},{text:"Close",icon:N.k,handler:function(){n(!1)}}]})]})};function _(e){return J.apply(this,arguments)}function J(){return(J=Object(d.a)(l.a.mark((function e(t){var n,r,c,a,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S.collection("users"),e.next=3,r.get();case 3:return c=e.sent,a=[],c.docs.forEach((function(e){return a.push(e.data().username)})),s=a.length,i="",e.next=10,S.collection("users").where("email","==",null===(n=C.currentUser)||void 0===n?void 0:n.email).get().then((function(e){e.forEach((function(e){i=e.data().username}))}));case 10:o=0;case 11:if(!(o<s)){e.next=17;break}if((a[o]!==t||i==t)&&""!=t){e.next=14;break}return e.abrupt("return",!0);case 14:o++,e.next=11;break;case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=e.setLoading,n=Object(o.useState)(!1),c=Object(r.a)(n,2),a=c[0],s=c[1],i=Object(o.useState)(!1),u=Object(r.a)(i,2),b=u[0],h=u[1],f=Object(o.useState)(),O=Object(r.a)(f,2),p=O[0],x=O[1],v=Object(o.useState)(),g=Object(r.a)(v,2),y=g[0],w=g[1],k=Object(o.useState)(),E=Object(r.a)(k,2),P=E[0],L=E[1],F=Object(o.useState)(),I=Object(r.a)(F,2),N=I[0],U=I[1],D=Object(o.useState)(),z=Object(r.a)(D,2),A=z[0],J=z[1],M=Object(o.useState)(),R=Object(r.a)(M,2),q=R[0],B=R[1],Q=Object(o.useState)(!1),W=Object(r.a)(Q,2),G=W[0],K=W[1],V=Object(o.useState)(""),Y=Object(r.a)(V,2),Z=Y[0],H=Y[1],$=Object(o.useState)("https://im-coder.com/images4/15590312779219.png"),X=Object(r.a)($,2),ee=X[0],te=X[1],ne=Object(o.useState)(0),re=Object(r.a)(ne,2),ce=re[0],ae=re[1],se="",ie=Object(o.useState)(0),oe=Object(r.a)(ie,2),ue=oe[0],le=oe[1],de=0,je=Object(o.useState)(""),be=Object(r.a)(je,2),he=be[0],fe=be[1],Oe=Object(o.useState)(""),pe=Object(r.a)(Oe,2),xe=pe[0],me=pe[1],ve=!0,ge="",ye=Object(o.useState)(""),we=Object(r.a)(ye,2),ke=we[0],Se=we[1],Ce=Object(o.useState)(""),Ee=Object(r.a)(Ce,2),Pe=Ee[0],Le=Ee[1],Fe=!0,Ie=Object(j.cb)(),Ne=Object(r.a)(Ie,2),Ue=Ne[0],De=Ne[1],ze=Object(o.useState)(!1),Ae=Object(r.a)(ze,2),Te=Ae[0],_e=Ae[1],Je=Object(o.useState)(!1),Me=Object(r.a)(Je,2),Re=Me[0],qe=Me[1],Be=!1,Qe=Object(o.useState)(!1),We=Object(r.a)(Qe,2),Ge=We[0],Ke=We[1],Ve=Object(o.useState)(!1),Ye=Object(r.a)(Ve,2),Ze=Ye[0],He=Ye[1];function $e(){return($e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(n=C.currentUser)||void 0===n?void 0:n.emailVerified)?H("none"):H(""),e.next=3,S.collection("users").where("email","==",null===(r=C.currentUser)||void 0===r?void 0:r.email).get().then((function(e){e.forEach((function(e){null!=e.data().profilepic&&te(e.data().profilepic),x(e.data().username),J(e.data().email),w(e.data().userFirstName),L(e.data().userLastName),B(e.data().biography),se=e.data().username,U(e.data().userFirstName+" "+e.data().userLastName)}))})).then((function(){S.collection("images").where("user","==",se).get().then((function(e){ae(e.size),de=0,e.forEach((function(e){null!=e.data().likes&&(de+=e.data().likes)})),le(de)}))})).then((function(){t.detail.complete()}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){var e,t;(null===(e=C.currentUser)||void 0===e?void 0:e.emailVerified)?H("none"):H(""),S.collection("users").where("email","==",null===(t=C.currentUser)||void 0===t?void 0:t.email).get().then((function(e){e.forEach((function(e){null!=e.data().profilepic&&te(e.data().profilepic),x(e.data().username),J(e.data().email),w(e.data().userFirstName),L(e.data().userLastName),B(e.data().biography),U(e.data().userFirstName+" "+e.data().userLastName)}))}))}),[b]),Object(o.useEffect)((function(){var e;S.collection("users").where("email","==",null===(e=C.currentUser)||void 0===e?void 0:e.email).get().then((function(e){e.forEach((function(e){se=e.data().username}))})).then((function(){S.collection("images").where("user","==",se).get().then((function(e){ae(e.size),de=0,e.forEach((function(e){null!=e.data().likes&&(de+=e.data().likes)})),le(de)}))}))}),[]),Object(m.jsxs)(j.B,{children:[Object(m.jsx)(j.r,{children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{children:p})})}),Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsxs)(j.q,{children:[Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{children:Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.d,{slot:"start",style:{height:"100px",width:"100px"},onClick:function(){s(!0)},children:Object(m.jsx)(j.t,{src:ee})}),Object(m.jsx)(T,{active:a,setShowActionSheet:s,setLoading:t}),Object(m.jsxs)(j.q,{children:[Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{style:{textAlign:"center"},children:ue}),Object(m.jsx)(j.m,{style:{textAlign:"center"},children:ce})]}),Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{style:{textAlign:"center"},children:"Likes"}),Object(m.jsx)(j.m,{style:{textAlign:"center"},children:"Posts"})]})]})]})})}),Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{children:Object(m.jsx)(j.v,{children:Object(m.jsxs)(j.q,{style:{paddingLeft:"0px"},children:[Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{children:Object(m.jsx)(j.w,{style:{fontSize:"20px"},children:N})})}),Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{children:Object(m.jsx)(j.w,{className:"ion-text-wrap",style:{fontSize:"15px"},children:q})})})]})})})}),Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{style:{textAlign:"center"},children:Object(m.jsx)(j.e,{shape:"round",fill:"outline",color:"primary",onClick:function(){return h(!0)},children:"Edit Profile"})}),Object(m.jsx)(j.m,{style:{textAlign:"center",display:String(Z)},children:Object(m.jsx)(j.e,{shape:"round",fill:"outline",color:"danger",onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.next=3,null===(t=C.currentUser)||void 0===t?void 0:t.sendEmailVerification();case 3:case"end":return e.stop()}}),e)}))),children:"Verify Email"})})]})]}),Object(m.jsx)(j.b,{isOpen:G,onDidDismiss:function(){return K(!1)},cssClass:"my-custom-class",header:"Verify E-Mail",message:"Email was sent to you to verify your email.",buttons:["OK"]}),Object(m.jsx)(j.E,{slot:"fixed",pullFactor:.5,pullMin:100,pullMax:200,onIonRefresh:function(e){return $e.apply(this,arguments)},children:Object(m.jsx)(j.F,{})}),Object(m.jsxs)(j.A,{isOpen:b,children:[Object(m.jsx)(j.r,{children:Object(m.jsxs)(j.S,{children:[Object(m.jsx)(j.f,{slot:"end",children:Object(m.jsx)(j.e,{color:"primary",onClick:function(){De(),h(!1),Se(""),Le(""),fe(""),me("")},children:"Close"})}),Object(m.jsx)(j.Q,{children:"Edit Profile"})]})}),Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{color:he,position:"floating",children:"Username"}),Object(m.jsx)(j.u,{color:xe,value:p,type:"text",onIonChange:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t.detail.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"First Name"}),Object(m.jsx)(j.u,{value:y,type:"text",onIonChange:function(e){return w(e.detail.value)}})]}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Last Name"}),Object(m.jsx)(j.u,{value:P,type:"text",onIonChange:function(e){return L(e.detail.value)}})]}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{color:ke,position:"floating",children:"E-Mail"}),Object(m.jsx)(j.u,{color:Pe,value:A,type:"email",onIonChange:function(e){return J(e.detail.value)}})]}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"stacked",children:"Biography"}),Object(m.jsx)(j.P,{value:q,onIonChange:function(e){return B(e.detail.value)}})]}),Object(m.jsxs)(j.q,{children:[Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{style:{textAlign:"center"},children:Object(m.jsx)(j.e,{expand:"block",shape:"round",fill:"outline",color:"primary",onClick:function(){De(),h(!1),Se(""),Le(""),fe(""),me("")},children:"Cancel"})}),Object(m.jsxs)(j.m,{style:{textAlign:"center"},children:[Object(m.jsx)(j.e,{expand:"block",shape:"round",fill:"outline",color:"primary",onClick:Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(!0),De(),Be=!1,ve=!0,Fe=!0,n={username:p,userFirstName:y,userLastName:P,email:A,biography:q,profilepic:ee},e.next=8,S.collection("users").where("email","==",null===(t=C.currentUser)||void 0===t?void 0:t.email).get().then((function(e){e.forEach((function(e){ge=e.data().username}))})).then(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(p).then(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(fe("danger"),me("danger"),ve=!1):(fe(""),me(""),ve=!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(Object(d.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.fetchSignInMethodsForEmail(A).then(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("users").get().then((function(e){e.forEach((function(e){var t;e.data().email==A&&(null===(t=C.currentUser)||void 0===t?void 0:t.email)!=A&&(Fe=!1,console.log("Email bereits vorhanden!"),Se("danger"),Le("danger"))}))}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){Fe=!1,console.log("Email ist Falsch!"),Se("danger"),Le("danger")}));case 2:if(A==(null===(t=C.currentUser)||void 0===t?void 0:t.email)||!Fe||!ve){e.next=7;break}return e.next=5,null===(r=C.currentUser)||void 0===r?void 0:r.updateEmail(A).then(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Email-Update successfull!"),e.next=3,null===(t=C.currentUser)||void 0===t?void 0:t.sendEmailVerification().then(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Send Email successfull!"),Se(""),Le(""),Fe=!0,!ve){e.next=7;break}return e.next=7,S.collection("users").doc(null===(t=C.currentUser)||void 0===t?void 0:t.uid).update({biography:n.biography,email:n.email,profilepic:n.profilepic,userFirstName:n.userFirstName,userLastName:n.userLastName,username:n.username});case 7:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("Send Email ERROR!")}));case 3:case"end":return e.stop()}}),e)})))).catch((function(e){Se(""),Le(""),Be=!0,_e(!0)}));case 5:e.next=11;break;case 7:if(Fe&&(Se(""),Le("")),!ve||!Fe){e.next=11;break}return e.next=11,S.collection("users").doc(null===(c=C.currentUser)||void 0===c?void 0:c.uid).update({biography:n.biography,email:n.email,profilepic:n.profilepic,userFirstName:n.userFirstName,userLastName:n.userLastName,username:n.username});case 11:case"end":return e.stop()}}),e)})))).then(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p==ge||!ve||!Fe||Be){e.next=3;break}return e.next=3,S.collection("images").where("user","==",ge).get().then((function(e){e.forEach(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.data()).user=String(p),e.next=4,S.collection("images").doc(t.data().id).set(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 3:case"end":return e.stop()}}),e)})))).then((function(){ve||Fe?ve?Fe?(De(),Be||h(!1)):Ue({buttons:[{text:"hide",handler:function(){return De()}}],message:"Email already exists or invalid!",duration:5e3,color:"danger"}):Ue({buttons:[{text:"hide",handler:function(){return De()}}],message:"Username already exists or invalid!",duration:5e3,color:"danger"}):Ue({buttons:[{text:"hide",handler:function(){return De()}}],message:"Username and Email already exists or invalid!",duration:5e3,color:"danger"})}));case 2:case"end":return e.stop()}}),e)})))).then((function(){He(!1)}));case 8:case"end":return e.stop()}}),e)}))),children:"Save"}),Object(m.jsx)(j.b,{isOpen:Te,cssClass:"my-custom-class",header:"Login",message:"Enter your password and try to save your data again.",inputs:[{name:"Password",type:"password",placeholder:"Password"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel"),_e(!1)}},{text:"OK",handler:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Confirm Ok"),e.next=3,C.signInWithEmailAndPassword(null===(n=C.currentUser)||void 0===n?void 0:n.email,t.Password).then((function(){_e(!1),Ke(!0)})).catch((function(e){_e(!1),qe(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}),Object(m.jsx)(j.b,{isOpen:Re,onDidDismiss:function(){qe(!1),_e(!0)},cssClass:"my-custom-class",header:"Incorrect Password",message:"Your password is incorrect. Try again.",buttons:["OK"]}),Object(m.jsx)(j.b,{isOpen:Ge,onDidDismiss:function(){Ke(!1)},cssClass:"my-custom-class",header:"Login Successful",message:"Now you can save your data again.",buttons:["OK"]}),Object(m.jsx)(j.z,{isOpen:Ze,message:"Please wait..."})]})]}),Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{style:{textAlign:"center"},children:Object(m.jsx)(j.e,{shape:"round",fill:"outline",color:"danger",onClick:function(){De(),C.signOut()},children:"Logout"})})})]})]})]})]})]})},R=(n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),function(e){var t=e.active,n=e.setShowActionSheet,c=e.setLoading,a=Object(o.useState)(""),s=Object(r.a)(a,2),u=s[0],l=s[1],d=Object(o.useState)(),b=Object(r.a)(d,2),h=b[0],f=b[1],O=A(),p=O.takePhoto,x=O.takePhotoFromGalerie;return Object(m.jsxs)(m.Fragment,{children:["upload"===u&&Object(m.jsx)(i.a,{to:{pathname:"/upload",state:{image:h}}}),Object(m.jsx)(j.a,{isOpen:t,onDidDismiss:function(){return n(!1)},buttons:[{text:"Camera",icon:N.c,handler:function(){p().then((function(e){c(!0),f(e),l("upload")})).catch((function(e){console.log(e)}))}},{text:"Galerie",icon:N.s,handler:function(){x().then((function(e){c(!0),f(e),l("upload")}))}},{text:"Close",icon:N.k,handler:function(){n(!1)}}]})]})});function q(e){return e*Math.PI/180}function B(e,t,n,r){var c=q(n-e),a=q(r-t);e=q(e),n=q(n);var s=Math.sin(c/2)*Math.sin(c/2)+Math.sin(a/2)*Math.sin(a/2)*Math.cos(e)*Math.cos(n);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function Q(e){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=document.createElement("ion-alert")).message=t,n.buttons=["OK"],document.body.appendChild(n),e.next=6,n.present();case 6:return e.next=8,n.onDidDismiss();case 8:r=e.sent,c=r.role,console.log("onDidDismiss resolved with role",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(l.a.mark((function e(t,n){var r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("ion-alert")).header=n,r.message=t,r.buttons=["OK"],document.body.appendChild(r),e.next=7,r.present();case 7:return e.next=9,r.onDidDismiss();case 9:c=e.sent,a=c.role,console.log("onDidDismiss resolved with role",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=n(69);function Y(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(l.a.mark((function e(t,n,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("users").doc(null===t||void 0===t?void 0:t.uid).update({likedImage:V.a.firestore.FieldValue.arrayUnion(r.id)}).catch((function(e){return Q(e.message)}));case 2:return c=n,c+=1,e.next=6,S.collection("images").doc(r.id).update({likes:c}).catch((function(e){return Q(e.message)}));case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(d.a)(l.a.mark((function e(t,n,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("users").doc(null===t||void 0===t?void 0:t.uid).update({likedImage:V.a.firestore.FieldValue.arrayRemove(r.id)}).catch((function(e){return Q(e.message)}));case 2:return c=n,(c-=1)<=0&&(c=0),e.next=7,S.collection("images").doc(r.id).update({likes:c}).catch((function(e){return Q(e.message)}));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(e){var t=e.image,n=e.setLoading,c=Object(o.useState)(0),a=Object(r.a)(c,2),s=a[0],i=a[1],u=Object(o.useState)(N.q),b=Object(r.a)(u,2),h=b[0],f=b[1],O=Object(o.useState)("dark"),p=Object(r.a)(O,2),x=p[0],v=p[1],g=Object(o.useState)(!1),y=Object(r.a)(g,2),w=y[0],k=y[1],C=Object(o.useContext)(De);Object(o.useEffect)((function(){S.collection("images").doc(t.id).get().then(function(){var e=Object(d.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(r=n.data())||void 0===r?void 0:r.likes)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,S.collection("users").doc(null===C||void 0===C?void 0:C.uid).get().then(function(){var e=Object(d.a)(l.a.mark((function e(n){var r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null===(r=n.data())||void 0===r?void 0:r.likedImage,a=!1,void 0!==c&&(a=void 0!=c.find((function(e){return e===t.id}))),a&&(f(N.p),v("danger"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:i(null===(c=n.data())||void 0===c?void 0:c.likes);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));var E=Object(o.useCallback)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==w){e.next=6;break}return k(!0),setTimeout((function(){return k(!1)}),1e3),void 0!=n&&n(!0),e.next=6,S.collection("users").doc(null===C||void 0===C?void 0:C.uid).get().then(function(){var e=Object(d.a)(l.a.mark((function e(r){var c,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(c=r.data())||void 0===c?void 0:c.likedImage,o=!1,void 0!==a&&(o=void 0!=a.find((function(e){return e===t.id}))),!o){e.next=12;break}return e.next=6,H(C,s,t);case 6:u=e.sent,i(u),v("dark"),f(N.q),e.next=18;break;case 12:return e.next=14,Y(C,s,t);case 14:u=e.sent,i(u),v("danger"),f(N.p);case 18:void 0!=n&&n(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Q(e.message)}));case 6:void 0!=n&&n(!1);case 7:case"end":return e.stop()}}),e)}))),[s,t,C,S,w]);return Object(m.jsxs)(j.g,{className:"my-ion-card",children:[Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.s,{icon:N.y,slot:"start"}),Object(m.jsx)(j.w,{children:t.location.position?t.location.position:t.location.coords.latitude+" "+t.location.coords.longitude})]}),t.distance?Object(m.jsx)(j.v,{children:Object(m.jsx)(j.w,{children:"".concat(t.distance.toString().slice(0,4)," km away from you")})}):Object(m.jsx)(j.v,{children:Object(m.jsx)(j.w,{children:"Near you"})}),Object(m.jsxs)(j.i,{children:[Object(m.jsx)(j.j,{children:t.user}),Object(m.jsx)(j.k,{children:t.title})]}),Object(m.jsxs)(j.h,{children:[Object(m.jsx)(j.t,{src:t.url}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.f,{slot:"start",children:[Object(m.jsx)(j.e,{color:x,onClick:E,children:Object(m.jsx)(j.s,{icon:h})}),Object(m.jsx)(j.O,{children:s})]}),Object(m.jsx)("br",{}),Object(m.jsx)(j.O,{style:{fontSize:"large"},children:t.description})]})]})},ee=(n(145),h.f.Geolocation),te=function(){var e=Object(o.useState)("Location"),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)([]),s=Object(r.a)(a,2),i=s[0],u=s[1],b=Object(o.useState)(!1),h=Object(r.a)(b,2),f=h[0],O=h[1],p=Object(o.useState)(),x=Object(r.a)(p,2),v=x[0],g=x[1],y=Object(o.useState)(),w=Object(r.a)(y,2),k=w[0],C=w[1];function E(){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.collection("images"),e.next=3,t.get();case 3:return n=e.sent,r=[],n.docs.forEach((function(e){return r.push(e.data())})),r.forEach((function(e){void 0!==k&&void 0==e.distance&&(e.distance=B(null===k||void 0===k?void 0:k.coords.latitude,null===k||void 0===k?void 0:k.coords.longitude,e.location.coords.latitude,e.location.coords.longitude))})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,ee.getCurrentPosition();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),console.log("Initial load..."),e.t2=u,e.next=9,E();case 9:e.t3=e.sent,(0,e.t2)(e.t3);case 11:case"end":return e.stop()}}),e)})))()}),[]),Object(m.jsxs)(j.B,{children:[Object(m.jsx)(j.r,{children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{children:"Search"})})}),Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsx)(j.K,{onIonChange:function(e){var t;t=e.target.value,console.log("filtering",t),""===t||null===t||void 0===t?E().then((function(e){u(e)})):"Location"===n?E().then((function(e){var n=[];e.forEach((function(e){var r;(null===(r=e.location.position)||void 0===r?void 0:r.includes(t))&&n.push(e)})),u(n)})):"Title"===n?E().then((function(e){var n=[];e.forEach((function(e){e.title.includes(t)&&n.push(e)})),u(n)})):"User"===n&&E().then((function(e){var n=[];e.forEach((function(e){e.user.includes(t)&&n.push(e)})),u(n)}))},showCancelButton:"never"}),Object(m.jsxs)(j.y,{children:["Filter: ",n]}),Object(m.jsx)(j.l,{style:"Location"===n?{backgroundColor:"lightgray",color:"black"}:{},onClick:function(e){c("Location")},children:Object(m.jsx)(j.w,{children:"Location"})}),Object(m.jsx)(j.l,{style:"User"===n?{backgroundColor:"lightgray",color:"black"}:{},onClick:function(e){c("User")},children:Object(m.jsx)(j.w,{children:"User"})}),Object(m.jsx)(j.l,{style:"Title"===n?{backgroundColor:"lightgray",color:"black"}:{},onClick:function(e){c("Title")},children:Object(m.jsx)(j.w,{children:"Title"})}),Object(m.jsx)(j.q,{children:Object(m.jsx)(j.J,{children:i.map((function(e){var t;return Object(m.jsxs)(j.m,{size:"4",children:[Object(m.jsx)(j.t,{onClick:function(t){O(!0),g(e)},src:e.url,style:{objectFit:"cover",height:"100%",width:"100%"}}),Object(m.jsxs)("p",{style:{position:"absolute",bottom:"-10px",right:"10px",backgroundColor:"rgba(0,0,0,0.5)",borderRadius:"5px"},children:[null===(t=e.distance)||void 0===t?void 0:t.toPrecision(4),"km"]})]})}))})}),Object(m.jsx)(j.C,{cssClass:"my-pop-over",backdropDismiss:!0,showBackdrop:!1,isOpen:f,onDidDismiss:function(e){return O(!1)},children:v&&Object(m.jsx)(X,{image:v})})]})]})},ne=(n(146),n.p+"static/media/icon.28ac23a3.png");n(86);function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(d.a)(l.a.mark((function e(t){var n,r,c,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.collection("users"),e.next=3,n.get();case 3:r=e.sent,c=[],r.docs.forEach((function(e){return c.push(e.data().username)})),a=c.length,s=0;case 8:if(!(s<a)){e.next=14;break}if(c[s]!==t){e.next=11;break}return e.abrupt("return",!0);case 11:s++,e.next=8;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return se.apply(this,arguments)}function se(){return(se=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if(!e.sent){e.next=7;break}return e.next=5,S.collection("users").where("username","==",t).get().then((function(e){e.forEach(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.signInWithEmailAndPassword(t.data().email,n).catch((function(e){return Q("Your Login credentials are incorrect")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 5:e.next=9;break;case 7:return e.next=9,C.signInWithEmailAndPassword(t,n).catch((function(e){return Q("Your Login credentials are incorrect")}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=4;break}Q("Email or Username Required"),e.next=10;break;case 4:if(0!==n.length){e.next=8;break}Q("Password Required"),e.next=10;break;case 8:return e.next=10,ae(t,n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return(le=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],n="password"===t?["text",N.m]:["password",N.n],e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de,je=function(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),s=Object(r.a)(a,2),i=s[0],u=s[1],b=Object(o.useState)(N.n),h=Object(r.a)(b,2),f=h[0],O=h[1],p=Object(o.useState)("password"),x=Object(r.a)(p,2),v=x[0],g=x[1],y=Object(o.useState)(!1),w=Object(r.a)(y,2),k=w[0],S=w[1],E=Object(o.useCallback)((function(e){var t;return c(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),P=Object(o.useCallback)((function(e){var t;return u(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),L=Object(o.useCallback)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(v);case 2:t=e.sent,g(t[0]),O(t[1]);case 5:case"end":return e.stop()}}),e)}))),[v]),F=Object(o.useCallback)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(n,i);case 2:case"end":return e.stop()}}),e)}))),[n,i]);return Object(m.jsxs)(j.B,{children:[Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(j.Q,{className:"Title",children:"Geogram"}),Object(m.jsx)("br",{}),Object(m.jsx)(j.q,{children:Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(j.t,{className:"Icon",src:ne})})})}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.q,{children:[Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsxs)(j.v,{lines:"none",className:"inputField",children:[Object(m.jsx)(j.w,{position:"floating",children:"Email or Username"}),Object(m.jsx)(j.u,{onIonChange:E,value:n,class:"input",type:"text"})]})})}),Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsxs)(j.v,{lines:"none",className:"inputField",children:[Object(m.jsx)(j.w,{position:"floating",children:"Password"}),Object(m.jsx)(j.u,{onIonChange:P,value:i,type:v}),Object(m.jsx)(j.s,{className:"LookIcon",slot:"end",icon:f,onClick:L})]})})}),Object(m.jsx)("div",{className:"LogInButton",children:Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{size:"12",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsxs)(j.e,{onClick:F,expand:"block",children:["Login",Object(m.jsx)(j.s,{icon:N.t})]})})})})]}),Object(m.jsxs)(j.q,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"LogInButton",children:Object(m.jsx)(j.H,{routerLink:"/register",children:"CREATE A NEW ACCOUNT"})}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"LogInButton",children:Object(m.jsx)(j.H,{onClick:function(){return S(!0)},children:"I FORGOT MY PASSWORD"})})]})]}),Object(m.jsx)(j.b,{isOpen:k,onDidDismiss:function(){return S(!1)},message:"Please Type In your Email",inputs:[{name:"emailPasswordForgoten",type:"email",placeholder:"Email"}],buttons:[{text:"Send",handler:function(e){C.sendPasswordResetEmail(e.emailPasswordForgoten)}}]})]})},be=(n(147),n(15)),he=n(16);!function(e){e.Notset="Password",e.Short="too short",e.Common="commonly used",e.Weak="weak",e.Ok="ok",e.Strong="strong"}(de||(de={}));var fe=function(){function e(){Object(be.a)(this,e),this.commonPasswordPatterns=/passw.*|12345.*|09876.*|qwert.*|asdfg.*|zxcvb.*|footb.*|baseb.*|drago.*/}return Object(he.a)(e,[{key:"isPasswordCommon",value:function(e){return this.commonPasswordPatterns.test(e)}},{key:"checkPasswordStrength",value:function(t){var n=0;n=/.*[a-z].*/.test(t)?++n:n,n=/.*[A-Z].*/.test(t)?++n:n,n=/.*[0-9].*/.test(t)?++n:n,n=/[^a-zA-Z0-9]/.test(t)?++n:n;de.Short;return null==t||""==t?de.Notset:t.length<e.MinimumLength?de.Short:!0===this.isPasswordCommon(t)?de.Common:0===n||1===n||2===n?de.Weak:3===n?de.Ok:de.Strong}}],[{key:"MinimumLength",get:function(){return 6}}]),e}();function Oe(){return pe.apply(this,arguments)}function pe(){return(pe=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=C.currentUser)||void 0===t||t.sendEmailVerification();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t,n,r,c){return me.apply(this,arguments)}function me(){return(me=Object(d.a)(l.a.mark((function e(t,n,r,c,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.createUserWithEmailAndPassword(n,t).then(function(){var e=Object(d.a)(l.a.mark((function e(t){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.user,Oe(),i={username:a,userFirstName:r,userLastName:c,email:n},e.next=5,S.collection("users").doc(null===(s=C.currentUser)||void 0===s?void 0:s.uid).set(i).catch((function(e){return Q(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Q(e.message)}));case 2:return e.abrupt("return","");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t,n,r,c,a){return ge.apply(this,arguments)}function ge(){return(ge=Object(d.a)(l.a.mark((function e(t,n,r,c,a,s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s.length){e.next=4;break}Q("Username Required"),e.next=36;break;case 4:return e.next=6,re(s);case 6:if(!e.sent){e.next=10;break}Q("Username already taken"),e.next=36;break;case 10:if(0!==c.length){e.next=14;break}Q("Firstname Required"),e.next=36;break;case 14:if(0!==a.length){e.next=18;break}Q("Secondname Required"),e.next=36;break;case 18:if(0!==r.length){e.next=22;break}Q("Email Required"),e.next=36;break;case 22:if(0!==n.length){e.next=26;break}Q("Password Required"),e.next=36;break;case 26:if(!(n.length<6)){e.next=30;break}Q("Password to short"),e.next=36;break;case 30:if(t===n){e.next=34;break}Q("Password don't match"),e.next=36;break;case 34:return e.next=36,xe(n,r,c,a,s);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),s=Object(r.a)(a,2),i=s[0],u=s[1],b=Object(o.useState)(""),h=Object(r.a)(b,2),f=h[0],O=h[1],p=Object(o.useState)(""),x=Object(r.a)(p,2),v=x[0],g=x[1],y=Object(o.useState)(""),w=Object(r.a)(y,2),k=w[0],S=w[1],E=Object(o.useState)(""),P=Object(r.a)(E,2),L=P[0],F=P[1],I=Object(o.useState)(N.n),U=Object(r.a)(I,2),D=U[0],z=U[1],A=Object(o.useState)("password"),T=Object(r.a)(A,2),_=T[0],J=T[1],M=Object(o.useState)("white"),R=Object(r.a)(M,2),q=R[0],B=R[1],Q=Object(o.useState)(N.n),W=Object(r.a)(Q,2),K=W[0],V=W[1],Y=Object(o.useState)("password"),Z=Object(r.a)(Y,2),H=Z[0],$=Z[1],X=Object(o.useState)(de.Notset),ee=Object(r.a)(X,2),te=ee[0],ne=ee[1],re=new fe,ce=Object(o.useCallback)((function(e){var t;return c(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),ae=Object(o.useCallback)((function(e){var t,n;g(null===(t=e.detail)||void 0===t?void 0:t.value);var r=re.checkPasswordStrength(null===(n=e.detail)||void 0===n?void 0:n.value);ne(r),r===de.Notset?B("white"):r===de.Short?B("danger"):r===de.Weak||r===de.Common?B("warning"):r!==de.Strong&&r!==de.Ok||B("success")}),[]),se=Object(o.useCallback)((function(e){var t;return S(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),ie=Object(o.useCallback)((function(e){var t;return u(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),oe=Object(o.useCallback)((function(e){var t;return O(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),le=Object(o.useCallback)((function(e){var t;return F(null===(t=e.detail)||void 0===t?void 0:t.value)}),[]),je=Object(o.useCallback)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(_);case 2:t=e.sent,J(t[0]),z(t[1]);case 5:case"end":return e.stop()}}),e)}))),[_]),be=Object(o.useCallback)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(H);case 2:t=e.sent,$(t[0]),V(t[1]);case 5:case"end":return e.stop()}}),e)}))),[H]),he=Object(o.useCallback)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(k,v,n,i,f,L);case 2:C.currentUser&&G("Please verify your email address to finish signing up for Geogram","Thank you for signing in.");case 3:case"end":return e.stop()}}),e)}))),[k,v,n,i,f,L]);return Object(m.jsxs)(j.B,{children:[Object(m.jsx)(j.r,{children:Object(m.jsxs)(j.S,{children:[Object(m.jsx)(j.f,{slot:"start",children:Object(m.jsx)(j.e,{color:"primary",routerLink:"/login",children:Object(m.jsx)(j.s,{icon:N.g})})}),Object(m.jsx)(j.Q,{children:"Register"})]})}),Object(m.jsx)(j.n,{fullscreen:!0,children:Object(m.jsxs)(j.q,{children:[Object(m.jsx)("br",{}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Username"}),Object(m.jsx)(j.u,{onIonChange:le,type:"text",value:L})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"First Name"}),Object(m.jsx)(j.u,{onIonChange:ie,type:"text",value:i})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Last Name"}),Object(m.jsx)(j.u,{onIonChange:oe,type:"text",value:f})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Email"}),Object(m.jsx)(j.u,{onIonChange:ce,type:"email",value:n})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",color:q,children:te}),Object(m.jsx)(j.u,{onIonChange:ae,type:_,value:v}),Object(m.jsx)(j.s,{className:"LookIcon",slot:"end",icon:D,onClick:je})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.v,{children:[Object(m.jsx)(j.w,{position:"floating",children:"Confirm Password "}),Object(m.jsx)(j.u,{onIonChange:se,value:k,type:H}),Object(m.jsx)(j.s,{className:"LookIcon",slot:"end",icon:K,onClick:be})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"SignInButton",children:Object(m.jsxs)(j.e,{onClick:he,children:["Register",Object(m.jsx)(j.s,{icon:N.w})]})})]})})]})};function we(e,t){if(void 0!==e.distance&&void 0!==t.distance){if(e.distance>t.distance)return 1;if(e.distance<t.distance)return-1;if(e.location.timestamp<t.location.timestamp)return-1;if(e.location.timestamp>t.location.timestamp)return 1}return 0}function ke(e,t,n,r){var c=[];return console.log(e),t.forEach((function(t){var a=B(n,r,t.location.coords.latitude,t.location.coords.longitude);t.distance=a,a<=e&&c.push(t)})),c=c.sort((function(e,t){return we(e,t)})),console.log(c),c}var Se=h.f.Geolocation,Ce=function(e){var t=e.setLoading,n=Object(o.useState)(),c=Object(r.a)(n,2),a=c[0],s=c[1],i=Object(o.useState)([]),u=Object(r.a)(i,2),b=u[0],h=u[1],f=Object(o.useState)(15),O=Object(r.a)(f,2),p=O[0],x=O[1],v=Object(o.useState)({open:!1,event:void 0}),g=Object(r.a)(v,2),y=g[0],w=g[1];function k(e){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.collection("images"),e.next=3,n.get();case 3:return r=e.sent,c=[],r.docs.forEach((function(e){return c.push(e.data())})),c=c.sort((function(e,t){return we(e,t)})),void 0!==a&&(c=ke(t||p,c,a.coords.latitude,a.coords.longitude)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,Se.getCurrentPosition();case 3:e.t1=e.sent,(0,e.t0)(e.t1),console.log("Initial load..."),k(p).then((function(e){return h(e)}));case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(m.jsxs)(j.B,{children:[Object(m.jsx)(j.r,{children:Object(m.jsxs)(j.S,{children:[Object(m.jsx)(j.Q,{children:"Explore"}),Object(m.jsxs)(j.O,{style:{marginRight:"0.25rem"},slot:"end",onClick:function(e){return w({open:!0,event:e.nativeEvent})},children:[p," km"]}),Object(m.jsx)(j.s,{style:{margin:"0.5rem"},icon:N.o,slot:"end",onClick:function(e){return w({open:!0,event:e.nativeEvent})}}),Object(m.jsx)(j.C,{isOpen:y.open,event:y.event,onDidDismiss:function(e){return w({open:!1,event:void 0})},children:Object(m.jsxs)(j.x,{children:[Object(m.jsx)(j.y,{children:"Range Filter"}),Object(m.jsx)(j.v,{children:Object(m.jsxs)(j.D,{min:0,max:30,snaps:!0,step:1,pin:!0,value:p,onIonChange:function(e){x(e.detail.value),t(!0),k(e.detail.value).then((function(e){h(e),t(!1)})).catch((function(e){return t(!1)}))},onLostPointerCapture:function(e){w({open:!1,event:void 0})},children:[Object(m.jsx)(j.w,{slot:"start",children:"0"}),Object(m.jsx)(j.w,{slot:"end",children:"30"})]})})]})})]})}),Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsx)(j.E,{slot:"fixed",onIonRefresh:function(e){console.log("Begin async operation"),k(p).then((function(e){return h(e)})),setTimeout((function(){console.log("Async operation has ended"),e.detail.complete()}),2e3)},pullFactor:.5,pullMin:100,pullMax:200,children:Object(m.jsx)(j.F,{})}),Object(m.jsx)(j.r,{collapse:"condense",children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{size:"large",children:"Explore"})})}),b.length>0&&b.map((function(e,n){return Object(m.jsx)(X,{image:e,setLoading:t},n)}))]})]})},Ee=h.f.Filesystem,Pe=function(e){var t=Object(o.useContext)(De),n=Object(o.useState)(),c=Object(r.a)(n,2),a=c[0],u=c[1],f=Object(o.useState)("https://im-coder.com/images4/15590312779219.png"),O=Object(r.a)(f,2),p=O[0],x=O[1],v=Object(o.useState)(""),g=Object(r.a)(v,2),w=g[0],k=g[1],C=Object(o.useState)(""),E=Object(r.a)(C,2),P=E[0],L=E[1];Object(o.useEffect)((function(){void 0!==e.location.state&&u(e.location.state.image),S.collection("users").doc(null===t||void 0===t?void 0:t.uid).get().then((function(e){var t,n;(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.profilepic)?x(null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.profilepic):x("https://im-coder.com/images4/15590312779219.png")})),e.setLoading(!1)}),[e.location.state]);var F=function(){var n=Object(d.a)(l.a.mark((function n(){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setLoading(!0),void 0===a){n.next=23;break}if(void 0===a.webviewPath){n.next=21;break}if(!Object(j.bb)("android")&&!Object(j.bb)("ios")){n.next=14;break}return n.t0=s.a,n.t1=Object(s.a)({},r),n.t2={},n.next=9,Object(b.a)(a.webviewPath);case 9:n.t3=n.sent.toString().split(",")[1],n.t4={data:n.t3},r=(0,n.t0)(n.t1,n.t2,n.t4),n.next=17;break;case 14:return n.next=16,Ee.readFile({path:a.filepath,directory:h.d.Data,encoding:h.e.UTF8});case 16:r=n.sent;case 17:return n.next=19,y.a.post("".concat("https://api.dhbw-geogram.de","/upload1"),{data:r.data});case 19:void 0!==(c=n.sent).data.file?S.collection("users").doc(null===t||void 0===t?void 0:t.uid).get().then((function(n){S.collection("users").doc(null===t||void 0===t?void 0:t.uid).set(Object(s.a)(Object(s.a)({},n.data()),{},{profilepic:"".concat("https://api.dhbw-geogram.de","/")+c.data.file}),{merge:!0}).then((function(t){k("Successfully added item to firebase"),setTimeout((function(){L("profile"),e.setLoading(!1)}),100)})).catch((function(e){console.log("Error while changing profile picture")}))})):k("Error while adding data to image server: https://api.dhbw-geogram.de");case 21:n.next=24;break;case 23:k("Error occured!");case 24:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(m.jsxs)(j.B,{children:[Object(m.jsx)(j.r,{children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{children:"Upload"})})}),Object(m.jsxs)(j.n,{fullscreen:!0,children:[Object(m.jsx)(j.r,{collapse:"condense",children:Object(m.jsx)(j.S,{children:Object(m.jsx)(j.Q,{size:"large",children:"Upload"})})}),a&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(j.q,{children:[Object(m.jsx)(j.J,{children:Object(m.jsx)(j.m,{children:Object(m.jsx)("h1",{children:"Change Profile Picture"})})}),Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{size:"5",children:Object(m.jsx)(j.t,{src:p})}),Object(m.jsx)(j.m,{size:"2",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(j.s,{style:{fontSize:"3em"},icon:N.b})}),Object(m.jsx)(j.m,{size:"5",children:Object(m.jsx)(j.t,{src:a.webviewPath})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(j.J,{children:[Object(m.jsx)(j.m,{size:"2",offset:"4",children:Object(m.jsx)(j.e,{expand:"block",shape:"round",fill:"outline",color:"primary",onClick:F,children:"Submit"})}),Object(m.jsx)(j.m,{size:"2",children:Object(m.jsx)(j.e,{expand:"block",shape:"round",fill:"outline",color:"danger",onClick:function(){x("https://im-coder.com/images4/15590312779219.png"),u(void 0),L("profile")},children:"Cancel"})})]})]})}),Object(m.jsx)(j.R,{isOpen:""!==w,onDidDismiss:function(){return k("")},message:w,duration:1500}),""!==P&&Object(m.jsx)(i.a,{to:"/".concat(P)})]})]})},Le=function(){return Object(m.jsxs)(I.a,{children:[Object(m.jsx)(i.b,{path:"/login",component:je,exact:!0}),Object(m.jsx)(i.b,{path:"/register",component:ye,exact:!0}),Object(m.jsx)(i.b,{path:"/",render:function(){return Object(m.jsx)(i.a,{to:"/login"})}})]})},Fe=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(!1),u=Object(r.a)(a,2),l=u[0],d=u[1];return Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(j.N,{children:[Object(m.jsxs)(j.I,{children:[Object(m.jsx)(i.b,{exact:!0,path:"/explore",children:Object(m.jsx)(Ce,{setLoading:d})}),Object(m.jsx)(i.b,{exact:!0,path:"/search",children:Object(m.jsx)(te,{})}),Object(m.jsx)(i.b,{path:"/profile",children:Object(m.jsx)(M,{setLoading:d})}),Object(m.jsx)(i.b,{exact:!0,path:"/",children:Object(m.jsx)(i.a,{to:"/explore"})}),Object(m.jsx)(i.b,{path:"/upload",render:function(e){return Object(m.jsx)(F,Object(s.a)(Object(s.a)({},e),{},{setLoading:d}))}}),Object(m.jsx)(i.b,{path:"/profile-pic",render:function(e){return Object(m.jsx)(Pe,Object(s.a)(Object(s.a)({},e),{},{setLoading:d}))}}),Object(m.jsx)(i.b,{exact:!0,path:"/login",children:Object(m.jsx)(i.a,{to:"/explore"})}),Object(m.jsx)(i.b,{exact:!0,path:"/register",children:Object(m.jsx)(i.a,{to:"/explore"})})]}),Object(m.jsxs)(j.L,{slot:"bottom",children:[Object(m.jsxs)(j.M,{tab:"explore",href:"/explore",children:[Object(m.jsx)(j.s,{icon:N.r}),Object(m.jsx)(j.w,{children:"Explore"})]}),Object(m.jsxs)(j.M,{tab:"search",href:"/search",children:[Object(m.jsx)(j.s,{icon:N.B}),Object(m.jsx)(j.w,{children:"Search"})]}),Object(m.jsxs)(j.M,{tab:"profile",href:"/profile",children:[Object(m.jsx)(j.s,{icon:N.x}),Object(m.jsx)(j.w,{children:"Profile"})]})]})]}),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.o,{style:{marginBottom:"4.5rem",marginRight:"0.5rem"},vertical:"bottom",horizontal:"end",slot:"fixed",onClick:function(){c(!0)},children:Object(m.jsx)(j.p,{children:Object(m.jsx)(j.s,{md:N.d,ios:N.c})})}),Object(m.jsx)(R,{active:n,setShowActionSheet:c,setLoading:d})]}),Object(m.jsx)(j.z,{isOpen:l,onDidDismiss:function(){return d(!1)},message:"Please wait...",duration:5e3})]})},Ie=function(){var e=Object(o.useContext)(De);return Object(m.jsxs)(j.c,{children:[" ",e?Object(m.jsx)(Fe,{}):Object(m.jsx)(Le,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=function(e){e&&e instanceof Function&&n.e(68).then(n.bind(null,226)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},Ue=n(92);Object(Ue.a)(window);var De=Object(o.createContext)(null),ze=function(e){var t=e.children,n=Object(o.useState)(null),c=Object(r.a)(n,2),a=c[0],s=c[1];return Object(o.useEffect)((function(){C.onAuthStateChanged((function(e){return s(e)}))}),[]),Object(m.jsxs)(De.Provider,{value:a,children:[" ",t,"    "]})};a.a.render(Object(m.jsx)(ze,{children:Object(m.jsx)(Ie,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ne()}},[[149,3,6]]]);
//# sourceMappingURL=main.a50a0058.chunk.js.map